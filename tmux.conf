set -g default-terminal "xterm-256color"

# colors
if-shell "test -f ~/.tmuxcolors.conf" "source ~/.tmuxcolors.conf" "source ~/dots/tmux-solarized-light.conf"

# box conf (for osx pbcopy hack)
if-shell "test -f ~/.tmuxlocal.conf" "source ~/.tmuxlocal.conf" ""

set -g prefix C-a
bind-key C-a send-prefix

bind r source-file ~/.tmux.conf \; display "Reloaded ~/.tmux.conf"

# windows
bind-key C-a last-window
set -g base-index 1
setw -g automatic-rename on
set -g renumber-windows on
bind , command-prompt "rename-window '%%'"
bind-key X confirm-before -p "kill-window #W? (y/n)" kill-window

# panes
bind s split-window -v
bind v split-window -h
bind-key e setw synchronize-panes

# pane switching with awareness of vim splits
bind -n C-h if "[ $(tmux display -p '#{pane_current_command}') = vim ]" "send-keys C-h" "select-pane -L"
bind -n C-j if "[ $(tmux display -p '#{pane_current_command}') = vim ]" "send-keys C-j" "select-pane -D"
bind -n C-k if "[ $(tmux display -p '#{pane_current_command}') = vim ]" "send-keys C-k" "select-pane -U"
bind -n C-l if "[ $(tmux display -p '#{pane_current_command}') = vim ]" "send-keys C-l" "select-pane -R"

# pane resizing
bind -r C-h resize-pane -L 5
bind -r C-j resize-pane -D 5
bind -r C-k resize-pane -U 5
bind -r C-l resize-pane -R 5

# copy mode
setw -g mode-keys vi
bind ` copy-mode
unbind [
unbind p
bind p paste-buffer
bind -t vi-copy v begin-selection
bind -t vi-copy y copy-selection
bind -t vi-copy Escape cancel

